(function(){"use strict";var t={2731:function(t,o,e){var n=e(5130),s=e(4373),a=e(6942),r=e(3699),i=e.n(r),c=e(482),d=e(3224),u=e(4164),l=e(1066),p=e(6768);function f(t,o){const e=(0,p.g2)("router-view");return(0,p.uX)(),(0,p.Wv)(e)}var g=e(1241);const h={},m=(0,g.A)(h,[["render",f]]);var v=m,b=e(1387);const y=[{path:"/login",name:"login",component:()=>e.e(804).then(e.bind(e,4804))},{path:"/register",name:"register",component:()=>Promise.all([e.e(904),e.e(445)]).then(e.bind(e,2445))},{path:"/",name:"user",component:()=>Promise.all([e.e(904),e.e(958)]).then(e.bind(e,958)),children:[{path:"/todolist",name:"todolist",component:()=>e.e(757).then(e.bind(e,6757))}]}],T=(0,b.aE)({history:(0,b.Bt)(),routes:y,linkActiveClass:"active"});var L=T,A=e(782);e(4114);const O={state:{todos:[],category:"全部",todo:"",catogaryTodos:[],editContent:""},mutations:{pushTodo(t,o){t.todos=o,t.catogaryTodos=o},catogaryTodo(t,o){t.catogaryTodos=[],"全部"===o?t.catogaryTodos=t.todos:"未完成"===o?t.todos.forEach((o=>{null===o.completed_at&&t.catogaryTodos.push(o)})):t.todos.forEach((o=>{null!==o.completed_at&&t.catogaryTodos.push(o)}))},updateLink(t,o){t.category=o},updateEditContent(t,o){t.editContent=o},updateTodo(t,o){t.todo=o}},actions:{getTodo({state:t,commit:o,dispatch:e}){e("setLoading",!0);const n="https://todoo.5xcamp.us/todos";s.A.get(n).then((n=>{o("pushTodo",n.data.todos),o("catogaryTodo",t.category),e("setLoading",!1)})).catch((()=>{e("setLoading",!1)}))},addTodo({state:t,commit:o,dispatch:e}){e("setLoading",!0);const n="https://todoo.5xcamp.us/todos",a={content:t.todo};s.A.post(n,{todo:a}).then((()=>{e("getTodo"),e("setLoading",!1);const n="新增成功";e("pushMessage",{style:"success",title:n,content:`已新增 ${t.todo} 至代辦事項`}),o("updateTodo","")})).catch((()=>{}))},editTodo({state:t,commit:o,dispatch:e},n){let a="";const{id:r,i:i,editArr:c,checkInputArr:d}=n;if(c.forEach((t=>{t.getAttribute("data-num")===r&&(a=t)})),a.classList.remove("d-none"),d[i].setAttribute("disabled",!0),t.editContent){const n=`https://todoo.5xcamp.us/todos/${r}`,c={content:t.editContent};s.A.put(n,{todo:c}).then((()=>{e("setLoading",!0),a.classList.add("d-none"),d[i].removeAttribute("disabled"),o("updateEditContent",""),e("getTodo"),e("setLoading",!1)})).catch((()=>{}))}},toggleTodo({dispatch:t},o){t("setLoading",!0);const e=`https://todoo.5xcamp.us/todos/${o}/toggle`;s.A.patch(e,{}).then((()=>{t("getTodo"),t("setLoading",!1)})).catch((()=>{}))},deleteTodo({dispatch:t},o){t("setLoading",!0);const e=`https://todoo.5xcamp.us/todos/${o.id}`;s.A.delete(e).then((()=>{t("getTodo"),t("setLoading",!1);const e="已刪除";t("pushMessage",{style:"danger",title:e,content:`已將 ${o.content} 刪除`})})).catch((()=>{}))},signOut({commit:t,dispatch:o}){o("setLoading",!0);const e="https://todoo.5xcamp.us/users/sign_out";s.A.delete(e).then((e=>{200===e.request.status&&(L.push("/login"),s.A.defaults.headers.common.Authorization="",o("setLoading",!1),t("clearMessages"))})).catch((()=>{}))}}};var k=O;const w={state:()=>({isLoading:!1,messages:[]}),mutations:{setLoading(t,o){t.isLoading=o},clearMessages(t){t.messages=[]}},actions:{setLoading({commit:t},o){t("setLoading",o)},pushMessage({state:t},o){const{style:e,title:n,content:s}=o;t.messages.push({style:e,title:n,content:s}),console.log(t.messages)}}};var x=w;const E=(0,A.y$)({modules:{todoList:k,status:x}});var j=E;(0,c.Km)("required",d.mw),(0,c.Km)("email",d.Rp),(0,c.Km)("min",d.jk),(0,c.jK)({generateMessage:(0,u.kg)({zh_TW:l}),validateOnInput:!0}),(0,u.xS)("zh_TW");const C=(0,n.Ef)(v).use(j).use(L);C.use(a.A,s.A),C.component("Loading",i()),C.component("Form",c.lV),C.component("Field",c.D0),C.component("ErrorMessage",c.Kw),C.mount("#app")}},o={};function e(n){var s=o[n];if(void 0!==s)return s.exports;var a=o[n]={id:n,loaded:!1,exports:{}};return t[n].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}e.m=t,function(){e.amdO={}}(),function(){var t=[];e.O=function(o,n,s,a){if(!n){var r=1/0;for(u=0;u<t.length;u++){n=t[u][0],s=t[u][1],a=t[u][2];for(var i=!0,c=0;c<n.length;c++)(!1&a||r>=a)&&Object.keys(e.O).every((function(t){return e.O[t](n[c])}))?n.splice(c--,1):(i=!1,a<r&&(r=a));if(i){t.splice(u--,1);var d=s();void 0!==d&&(o=d)}}return o}a=a||0;for(var u=t.length;u>0&&t[u-1][2]>a;u--)t[u]=t[u-1];t[u]=[n,s,a]}}(),function(){e.n=function(t){var o=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(o,{a:o}),o}}(),function(){e.d=function(t,o){for(var n in o)e.o(o,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:o[n]})}}(),function(){e.f={},e.e=function(t){return Promise.all(Object.keys(e.f).reduce((function(o,n){return e.f[n](t,o),o}),[]))}}(),function(){e.u=function(t){return"js/"+t+"."+{445:"2b034924",757:"03afb687",804:"c3e5916e",904:"2ae84c5b",958:"7924e432"}[t]+".js"}}(),function(){e.miniCssF=function(t){}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.hmd=function(t){return t=Object.create(t),t.children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t}}(),function(){e.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)}}(),function(){var t={},o="to-do-list:";e.l=function(n,s,a,r){if(t[n])t[n].push(s);else{var i,c;if(void 0!==a)for(var d=document.getElementsByTagName("script"),u=0;u<d.length;u++){var l=d[u];if(l.getAttribute("src")==n||l.getAttribute("data-webpack")==o+a){i=l;break}}i||(c=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,e.nc&&i.setAttribute("nonce",e.nc),i.setAttribute("data-webpack",o+a),i.src=n),t[n]=[s];var p=function(o,e){i.onerror=i.onload=null,clearTimeout(f);var s=t[n];if(delete t[n],i.parentNode&&i.parentNode.removeChild(i),s&&s.forEach((function(t){return t(e)})),o)return o(e)},f=setTimeout(p.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=p.bind(null,i.onerror),i.onload=p.bind(null,i.onload),c&&document.head.appendChild(i)}}}(),function(){e.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){e.p="/"}(),function(){var t={524:0};e.f.j=function(o,n){var s=e.o(t,o)?t[o]:void 0;if(0!==s)if(s)n.push(s[2]);else{var a=new Promise((function(e,n){s=t[o]=[e,n]}));n.push(s[2]=a);var r=e.p+e.u(o),i=new Error,c=function(n){if(e.o(t,o)&&(s=t[o],0!==s&&(t[o]=void 0),s)){var a=n&&("load"===n.type?"missing":n.type),r=n&&n.target&&n.target.src;i.message="Loading chunk "+o+" failed.\n("+a+": "+r+")",i.name="ChunkLoadError",i.type=a,i.request=r,s[1](i)}};e.l(r,c,"chunk-"+o,o)}},e.O.j=function(o){return 0===t[o]};var o=function(o,n){var s,a,r=n[0],i=n[1],c=n[2],d=0;if(r.some((function(o){return 0!==t[o]}))){for(s in i)e.o(i,s)&&(e.m[s]=i[s]);if(c)var u=c(e)}for(o&&o(n);d<r.length;d++)a=r[d],e.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return e.O(u)},n=self["webpackChunkto_do_list"]=self["webpackChunkto_do_list"]||[];n.forEach(o.bind(null,0)),n.push=o.bind(null,n.push.bind(n))}();var n=e.O(void 0,[504],(function(){return e(2731)}));n=e.O(n)})();
//# sourceMappingURL=app.f76ab1c6.js.map