{"version":3,"file":"js/804.c3e5916e.js","mappings":"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","sources":["webpack://to-do-list/./src/views/Login.vue","webpack://to-do-list/./src/views/Login.vue?240b"],"sourcesContent":["<template>\n  <div class=\"bg-primary\">\n    <div class=\"container\">\n      <div class=\"vh-100 row flex-column flex-md-row align-items-center\n        justify-content-center gx-4\">\n        <div class=\"col-5 d-none d-md-flex flex-column text-center\">\n          <h2 class=\"fw-bold mb-5 text-info\">\n            <i class=\"fa-regular fa-circle-check\"></i>\n            TODO LIST\n          </h2>\n          <img src=\"../assets/images/logo.svg\" alt=\"logo圖\"\n            class=\"w-100\">\n        </div>\n        <div class=\"col-12 d-md-none\">\n          <h2 class=\"fw-bold mb-5 text-info\">\n            <i class=\"fa-regular fa-circle-check\"></i>\n            TODO LIST\n          </h2>\n        </div>\n        <div class=\"col-12 col-md-5\">\n          <h4 class=\"fw-bold mb-4\">登入</h4>\n          <Form v-slot=\"{ errors }\" @submit=\"signIn\">\n            <div class=\"mb-3\">\n              <label for=\"email\" class=\"form-label fw-bold\">Email</label>\n              <Field id=\"email\" name=\"email\" type=\"email\"\n                class=\"form-control\" :class=\"{ 'is-invalid': errors['email'] }\"\n                placeholder=\"請輸入 Email\" rules=\"email|required\"\n                v-model=\"user.email\"/>\n              <error-message name=\"email\" class=\"invalid-feedback\"/>\n            </div>\n            <div class=\"mb-4\">\n              <label for=\"password\" class=\"form-label fw-bold\">密碼</label>\n              <Field id=\"password\" name=\"密碼\" type=\"password\"\n                class=\"form-control\" :class=\"{ 'is-invalid': errors['密碼'] }\"\n                placeholder=\"請輸入密碼\" rules=\"required\"\n                v-model=\"user.password\"/>\n              <error-message name=\"密碼\" class=\"invalid-feedback\"/>\n            </div>\n            <p v-if=\"warning\" class=\"text-danger mb-3 fw-bold\">\n              {{ warning }}\n            </p>\n            <div class=\"mb-4 text-center\">\n              <button class=\"btn btn-secondary py-2 px-4 fw-semibold\">\n                登入\n              </button>\n            </div>\n            <div class=\"text-center\">\n              <router-link to=\"/register\" class=\"text-decoration-none text-dark fw-bold\">\n                註冊帳號\n              </router-link>\n            </div>\n          </Form>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      user: {\n        email: '',\n        password: '',\n      },\n      warning: '',\n    };\n  },\n  methods: {\n    signIn() {\n      this.$http.defaults.headers.common.Authorization = '';\n      const url = `${process.env.VUE_APP_API}users/sign_in`;\n      this.$http.post(url, { user: this.user })\n        .then((res) => {\n          const token = res.headers.authorization;\n          document.cookie = `todoToken=${token};`;\n          this.$http.defaults.headers.common.Authorization = token;\n          this.$router.push('/todolist');\n        })\n        .catch(() => {\n          this.warning = '信箱或密碼有誤，請重新輸入';\n        });\n    },\n  },\n  created() {\n    this.$store.commit('clearMessages');\n  },\n};\n</script>\n","import { render } from \"./Login.vue?vue&type=template&id=07cf97ec\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createStaticVNode","_imports_0","_createElementVNode","for","key","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_6","_hoisted_7","_createVNode","_component_Form","onSubmit","$options","signIn","default","_withCtx","errors","_hoisted_8","_hoisted_9","_component_Field","id","name","type","_normalizeClass","placeholder","rules","modelValue","$data","user","email","_cache","$event","_component_error_message","_hoisted_10","_hoisted_11","password","warning","_hoisted_12","_toDisplayString","_createCommentVNode","_hoisted_13","_hoisted_14","_component_router_link","to","_createTextVNode","_","data","methods","this","$http","defaults","headers","common","Authorization","url","post","then","res","token","authorization","document","cookie","$router","push","catch","created","$store","commit","__exports__","render"],"sourceRoot":""}